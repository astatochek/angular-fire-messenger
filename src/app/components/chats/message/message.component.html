<ng-container *ngIf="chat">
  <div
    class="flex items-start m-4"
    *ngIf="user() as user"
    [ngClass]="[
      chat[message.sender].uid === user.uid ? 'flex-row-reverse' : 'flex-row',
      chat[message.sender].uid === user.uid ? 'slide-in-right' : 'slide-in-left'
    ]"
  >
    <div
      class="flex flex-col text-center font-light text-xs"
      [ngClass]="chat[message.sender].uid === user.uid ? 'ml-2' : 'mr-2'"
    >
      <app-avatar
        [username]="chat[message.sender].email"
        [size]="64"
        class="w-11"
      />
      <p class="mt-2 select-all">{{ getDate() | date: "HH:mm" }}</p>
    </div>
    <div
      class="flex flex-col"
      [ngClass]="
        chat[message.sender].uid === user.uid ? 'items-end' : 'items-start'
      "
    >
      <p class="text-xs mb-2 text-white-70 font-normal select-all">
        {{ chat[message.sender].email }}
      </p>
      <div
        class="max-w-xl break-words py-2 px-4 bg-raisin-black text-xs hover:bg-charleston-green shadow-sm"
        [ngClass]="
          chat[message.sender].uid === user.uid
            ? 'rounded-[10px_0_10px_10px]'
            : 'rounded-[0_10px_10px_10px]'
        "
      >
        {{ message.content }}
      </div>
    </div>
  </div>
</ng-container>
